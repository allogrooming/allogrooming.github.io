---
layout: post
title: "ini 폼 ajax 연결"
---

```

# readForm 함수 (common.js)
```
function readForm(formId, url){

      $.ajax({
             url : url,
             type : "post",
             dataType :"text",
             data : $(formId).serialize(),
             success : function(result){
                 console.log(result);
             },
             error : function(err){
                 console.log(err+"에러발생");
             }
      });

}
```
앞으로 작성할 모든 폼 데이터를 컨트롤러로 넘겨주는 함수  

<br>

# ini.html
```
        $("click").click(function(){
            console.log("click");
            readForm("iniForm","/readForm");
            console.log("readForm 종료");
        })
```
함수 적용  

<br>

# 컨트롤러 test2
```
    @RequestMapping(value="/readForm", produces="text/html;charset=UTF-8")
    @ResponseBody
    @PostMapping
    public String test2(@RequestParam Map<String, String> param){
        for (String key : param.keySet()) {
            System.out.println(key + " : " + param.get(key));
        }

        return "success";
    }
```

<br>
![image](https://user-images.githubusercontent.com/86642180/151666578-fc773850-10b8-4ffe-bd2c-0dbcdcdeb676.png)

이렇게 view에서 선택했다  
폼 제출 뒤 결과는 이렇게 나왔다  
![image](https://user-images.githubusercontent.com/86642180/151666587-6087f830-b314-4c45-913f-6c4697107412.png)
일단 데이터 받는 것은 잘 되는데  
"매일"을 선택하면 어떤 주든 상관 없어야 해서 week 부분이 공란이어야 하는데 이상하다  

<br>
